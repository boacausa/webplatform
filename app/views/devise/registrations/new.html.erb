<!-- <div class="page-header" id="banner">
   <div class="row">
     <div class="col-lg-8 col-md-7 col-sm-6">
       <h1>Registre-se</h1>
       <p class="lead">E faça parte de um mundo melhor (frase nhoin).</p>
     </div>
  </div>
</div> -->
<div class="row">
  <!-- <div class="col-lg-6">
    <div class="well bs-component">
      <legend>Utilize uma conta existente</legend>
      <a href="#" class="btn btn-primary btn-lg btn-block">Entrar com Facebook</a>
      <a href="#" class="btn btn-danger btn-lg btn-block">Entrar com Google</a>
    </div>
  </div> -->
  <div class="col-lg-3"></div>
  <div class="col-lg-6">
    <div class="well bs-component">
      <%= form_for(resource, as: resource_name, url: registration_path(resource_name), class: 'form-horizontal') do |f| %>
      <fieldset>
        <legend>Registrar-se</legend>
        <%= devise_error_messages! %>

        <div class="form-group">
          <%= f.label :email, class: 'control-label' %><br />
          <%= f.email_field :email, class: 'form-control', autofocus: true %>
        </div>

        <div class="form-group">
          <%= f.label :name, 'Nome', class: 'control-label' %><br />
          <%= f.text_field :name, class: 'form-control', autofocus: true %>
        </div>

        <div class="form-group">
          <%= f.label :last_name, 'Sobrenome', class: 'control-label' %><br />
          <%= f.text_field :last_name, class: 'form-control', autofocus: true %>
        </div>

        <div class="form-group">
          <%= f.label :phone, 'Telefone', class: 'control-label' %><br />
          <%= f.text_field :phone, class: 'form-control', autofocus: true, maxlength: 15 %>
        </div>

        <div class="form-group">
          <%= f.label :password, 'Senha', class: 'control-label' %>
          <% if @minimum_password_length %>
          <em>(<%= @minimum_password_length %> characters minimum)</em>
          <% end %><br />
          <%= f.password_field :password, class: 'form-control', autocomplete: "off" %>
        </div>

        <div class="form-group">
          <%= f.label :password_confirmation, 'Confirmação de senha', class: 'control-label' %><br />
          <%= f.password_field :password_confirmation, class: 'form-control', autocomplete: "off" %>
        </div>

        <div class="actions">
          <%= f.submit "Registrar", class: 'btn btn-primary btn-lg btn-block' %>
        </div>
      <fieldset>
      <% end %>

      <%= render "devise/shared/links" %>
    </div>
  </div>
  <div class="col-lg-3"></div>
</div>

<script>
  var user_phone = document.getElementById("user_phone");
  if (user_phone) {
      user_phone.onkeyup = mascara;
  }

  function mascara(){
    setTimeout("execmascara()",1);
  }

  function execmascara(){
      user_phone.value=mtel(user_phone.value);
  }

  function mtel(v){
    v=v.replace(/\D/g,"");
    v=v.replace(/^(\d{2})(\d)/g,"($1) $2");
    v=v.replace(/(\d)(\d{4})$/,"$1-$2");
    return v;
  }
</script>
